<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>@ViewData["Title"] - AgentScrum</title>
    <script type="importmap"></script>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true"/>
    <link rel="stylesheet" href="~/AgentScrum.Web.styles.css" asp-append-version="true"/>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            important: true,
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            200: '#bae6fd',
                            300: '#7dd3fc',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e',
                        }
                    }
                }
            }
        }
    </script>
    <!-- Process Tailwind directives -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            tailwind.refresh();
        });
    </script>
    <!-- Add direct Tailwind styles for Identity pages -->
</head>
<body class="bg-gray-50 min-h-screen">
<header>
    <nav class="bg-white shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex">
                    <div class="flex-shrink-0 flex items-center">
                        <a class="text-blue-600 font-bold text-xl" asp-area="" asp-controller="Home" asp-action="Index">AgentScrum</a>
                    </div>
                    <div class="hidden sm:ml-6 sm:flex sm:space-x-8">
                        <a class="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium" 
                           asp-area="" asp-controller="Home" asp-action="Index">Home</a>
                        <a class="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium" 
                           asp-area="" asp-controller="Home" asp-action="Privacy">Privacy</a>
                    </div>
                </div>
                <div class="hidden sm:ml-6 sm:flex sm:items-center">
                    <partial name="_LoginPartial"/>
                </div>
                <div class="-mr-2 flex items-center sm:hidden">
                    <button type="button" class="bg-white inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500" aria-expanded="false">
                        <span class="sr-only">Open main menu</span>
                        <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </nav>
</header>

<main>
    @RenderBody()
</main>

<footer class="bg-white mt-12 border-t border-gray-200">
    <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
        <p class="text-center text-sm text-gray-500">&copy; 2025 - AgentScrum - <a class="text-blue-600 hover:text-blue-800" asp-area="" asp-controller="Home" asp-action="Privacy">Privacy</a></p>
    </div>
</footer>

<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="~/js/site.js" asp-append-version="true"></script>
<!-- Add script to apply Tailwind classes to Identity UI elements -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        // Skip applying classes if we're on the login page
        if (window.location.pathname.includes('/Identity/Account/Login')) {
            return;
        }
        
        // Apply Tailwind classes to form elements
        document.querySelectorAll('input[type="text"], input[type="email"], input[type="password"]').forEach(input => {
            if (!input.classList.contains('form-control')) {
                input.classList.add('block', 'w-full', 'px-3', 'py-2', 'border', 'border-gray-300', 'rounded-md', 'shadow-sm', 'focus:outline-none', 'focus:ring-blue-500', 'focus:border-blue-500', 'sm:text-sm');
            }
        });
        
        // Apply Tailwind classes to form-control elements
        document.querySelectorAll('.form-control').forEach(input => {
            input.classList.add('block', 'w-full', 'px-3', 'py-2', 'border', 'border-gray-300', 'rounded-md', 'shadow-sm', 'focus:outline-none', 'focus:ring-blue-500', 'focus:border-blue-500', 'sm:text-sm');
        });
        
        // Apply Tailwind classes to buttons
        document.querySelectorAll('button[type="submit"], input[type="submit"]').forEach(button => {
            if (!button.classList.contains('btn-primary')) {
                button.classList.add('inline-flex', 'justify-center', 'py-2', 'px-4', 'border', 'border-transparent', 'shadow-sm', 'text-sm', 'font-medium', 'rounded-md', 'text-white', 'bg-blue-600', 'hover:bg-blue-700', 'focus:outline-none', 'focus:ring-2', 'focus:ring-offset-2', 'focus:ring-blue-500');
            }
        });
        
        // Apply Tailwind classes to primary buttons
        document.querySelectorAll('.btn-primary').forEach(button => {
            button.classList.add('inline-flex', 'justify-center', 'py-2', 'px-4', 'border', 'border-transparent', 'shadow-sm', 'text-sm', 'font-medium', 'rounded-md', 'text-white', 'bg-blue-600', 'hover:bg-blue-700', 'focus:outline-none', 'focus:ring-2', 'focus:ring-offset-2', 'focus:ring-blue-500');
        });
        
        // Apply Tailwind classes to secondary buttons
        document.querySelectorAll('.btn-secondary').forEach(button => {
            button.classList.add('inline-flex', 'justify-center', 'py-2', 'px-4', 'border', 'border-gray-300', 'shadow-sm', 'text-sm', 'font-medium', 'rounded-md', 'text-gray-700', 'bg-white', 'hover:bg-gray-50', 'focus:outline-none', 'focus:ring-2', 'focus:ring-offset-2', 'focus:ring-blue-500');
        });
        
        // Apply Tailwind classes to danger buttons
        document.querySelectorAll('.btn-danger').forEach(button => {
            button.classList.add('inline-flex', 'justify-center', 'py-2', 'px-4', 'border', 'border-transparent', 'shadow-sm', 'text-sm', 'font-medium', 'rounded-md', 'text-white', 'bg-red-600', 'hover:bg-red-700', 'focus:outline-none', 'focus:ring-2', 'focus:ring-offset-2', 'focus:ring-red-500');
        });
        
        // Apply Tailwind classes to form groups
        document.querySelectorAll('.form-group').forEach(group => {
            group.classList.add('mb-4');
        });
        
        // Apply Tailwind classes to labels
        document.querySelectorAll('label').forEach(label => {
            if (!label.closest('.form-check') && !label.closest('.form-floating')) {
                label.classList.add('block', 'text-sm', 'font-medium', 'text-gray-700', 'mb-1');
            }
        });
        
        // Apply Tailwind classes to validation errors
        document.querySelectorAll('.text-danger').forEach(element => {
            element.classList.add('text-red-500', 'text-sm', 'mt-1');
        });
        
        // Apply Tailwind classes to validation summary
        document.querySelectorAll('.validation-summary-errors').forEach(element => {
            element.classList.add('bg-red-50', 'border-l-4', 'border-red-400', 'p-4', 'mb-4');
        });
        
        // Apply Tailwind classes to validation summary lists
        document.querySelectorAll('.validation-summary-errors ul').forEach(element => {
            element.classList.add('list-disc', 'pl-5', 'text-sm', 'text-red-700');
        });
        
        // Apply Tailwind classes to cards
        document.querySelectorAll('.card').forEach(element => {
            element.classList.add('bg-white', 'overflow-hidden', 'shadow', 'rounded-lg');
        });
        
        // Apply Tailwind classes to card headers
        document.querySelectorAll('.card-header').forEach(element => {
            element.classList.add('px-4', 'py-5', 'sm:px-6', 'bg-gray-50', 'border-b', 'border-gray-200');
        });
        
        // Apply Tailwind classes to card bodies
        document.querySelectorAll('.card-body').forEach(element => {
            element.classList.add('px-4', 'py-5', 'sm:p-6');
        });
        
        // Apply Tailwind classes to card footers
        document.querySelectorAll('.card-footer').forEach(element => {
            element.classList.add('px-4', 'py-4', 'sm:px-6', 'bg-gray-50', 'border-t', 'border-gray-200');
        });
        
        // Apply Tailwind classes to account page container
        document.querySelectorAll('.account-page-container').forEach(element => {
            element.classList.add('mx-auto', 'bg-white', 'p-6', 'rounded-lg', 'shadow-md');
        });
        
        // Apply Tailwind classes to identity container
        document.querySelectorAll('.identity-container').forEach(element => {
            element.classList.add('mx-auto');
        });
        
        // Make identity forms wider
        document.querySelectorAll('#account, #external-login, #registerForm, #forgot-password').forEach(element => {
            element.classList.add('w-full');
        });
    });
</script>
@await RenderSectionAsync("Scripts", required: false)
</body>
</html> 